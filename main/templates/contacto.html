<div id="contacto" class="section py-5 bg-light">
    <div class="container">
      <h2 id="contáctanos" class="section-title text-center mb-5">Contáctanos</h2>
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <form id="contactForm">
            <div class="mb-3">
              <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre" required>
            </div>
            <div class="mb-3">
              <input type="text" class="form-control" id="apellido" name="apellido" placeholder="Apellido" required>
            </div>
            <div class="mb-3">
              <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Teléfono" required>
            </div>
            <div class="mb-3">
              <input type="text" class="form-control" id="direccion" name="direccion" placeholder="Dirección" required>
            </div>
            <div class="mb-3">
              <textarea class="form-control" id="mensaje" name="mensaje" rows="4" placeholder="Problema del dispositivo" required></textarea>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary">Enviar Mensaje</button>
            </div>
          </form>
          <div id="mensaje-exito" class="alert alert-success mt-3" style="display: none;">
            Su solicitud ha sido enviada con éxito. Nos pondremos en contacto con usted pronto.
          </div>
          <div id="mensaje-error" class="alert alert-danger mt-3" style="display: none;">
            Ha ocurrido un error al enviar su solicitud. Por favor, inténtelo de nuevo.
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    var formData = new FormData(this);
    
    // Convertir FormData a un objeto para poder imprimirlo en la consola
    var formDataObj = {};
    formData.forEach((value, key) => {formDataObj[key] = value});
    console.log("Datos del formulario:", formDataObj);
  
    fetch('/enviar-contacto/', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.status === 'success') {
        document.getElementById('mensaje-exito').style.display = 'block';
        document.getElementById('mensaje-error').style.display = 'none';
        document.getElementById('contactForm').reset();
      } else {
        throw new Error(data.message);
      }
    })
    .catch(error => {
      document.getElementById('mensaje-error').style.display = 'block';
      document.getElementById('mensaje-error').textContent = error.message || 'Ha ocurrido un error al enviar su solicitud. Por favor, inténtelo de nuevo.';
      document.getElementById('mensaje-exito').style.display = 'none';
    });
  });
  </script>